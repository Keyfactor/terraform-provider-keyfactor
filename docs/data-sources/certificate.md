---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "keyfactor_certificate Data Source - terraform-provider-keyfactor"
subcategory: ""
description: |-
  Example data source
---

# keyfactor_certificate (Data Source)

Example data source

## Example Usage

```terraform
provider "keyfactor" {
  username = "COMMAND\\your_username"
  password = "your_api_password"
  hostname = "mykfinstance.kfdelivery.com"
}

data "keyfactor_certificate" "cert_by_id" {
  identifier = "26" # Lookup by Keyfactor Command Certificate ID
}

data "keyfactor_certificate" "cert_by_id_w_collection_id" {
  identifier    = "26" # Lookup by Keyfactor Command Certificate ID
  collection_id = 1    # Optional. If not specified, will search all collections.
}

data "keyfactor_certificate" "cert_by_cn" {
  identifier = "example.com" # Lookup by certificate CN. Will return the most recently issued certificate with this CN.
}

data "keyfactor_certificate" "cert_by_cn_and_thumbprint" {
  identifier = "1234567890ABCDEF1234567890ABCDEF12345678" # Lookup by certificate thumbprint.
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `identifier` (String) Keyfactor Command certificate identifier. This can be any of the following values: thumbprint, CN, or Keyfactor Command Certificate ID. If using CN to lookup the last issued certificate, the CN must be an exact match and if multiple certificates are returned the certificate that was most recently issued will be returned.

### Optional

- `collection_id` (Number) An integer indicating the Keyfactor Command reference ID of the collection to search for the certificate. Defaults to '0'.
- `include_private_key` (Boolean) A boolean indicating whether the private key should be retrieved from Keyfactor Command. Defaults to 'true'.
- `key_password` (String, Sensitive) A string containing the password to encrypt the private key with.

### Read-Only

- `archived_key` (Boolean) A boolean indicating whether the certificate has been archived.
- `ca_record_id` (String) A string containing the CA's reference ID for certificate.
- `ca_row_index` (Number) An integer containing the CA's reference ID for certificate.
	| :exclamation: Note: The CARowIndex has been replaced by CARecordId, but will remain for backward compatibility. It will only contain a non-zero value for certificates issued by Microsoft CAs. For Microsoft CA certificates, the CARowIndex will be equal to the CARecordId value parsed to an integer. |
	|----------------------------------------------------------------------------------------------------------------|
- `cert_state` (String) An integer specifying the state of the certificate. The following values are possible:
	| Value | Description |
	|-------|-------------|
	| 0 | Unknown |
	| 1 | Active |
	| 2 | Revoked |
	| 3 | Denied |
	| 4 | Failed |
	| 5 | Pending |
	| 6 | Certificate Authority |
	| 7 | Parent Certificate Authority |
- `certificate_authority` (String) A string indicating the name of the certificate authority that issued the certificate.
- `certificate_authority_id` (Number) An integer indicating the Keyfactor Command reference ID of the certificate authority that issued the certificate.
- `certificate_chain` (String) A string containing the certificate chain in PEM format.
- `certificate_id` (Number) This is the unique identifier for the certificate in Keyfactor Command.
- `certificate_key_id` (Number) An integer indicating the Keyfactor Command reference ID of the certificate key.
- `certificate_pem` (String) A string containing the certificate in PEM format.
- `certificate_template` (String) A string indicating the name of the template associated with the certificate.
- `command_request_id` (Number) An integer indicating the Keyfactor Command reference ID of the certificate request associated with the certificate.
- `content_bytes` (String) A string containing the certificate as bytes.
- `crl_distribution_point` (Attributes List) An array of objects containing the certificate revocation list (CRL) distribution points of the certificate. Each object contains the following fields:
	| Field | Description |
	|-------|-------------|
	| Id | An integer indicating the Keyfactor Command reference ID of the CRL distribution point. |
	| Url | A string indicating the URL of the CRL distribution point. |
	| UrlHash | A string indicating the hash of the URL of the CRL distribution point. | (see [below for nested schema](#nestedatt--crl_distribution_point))
- `curve` (String) A string indicating the OID of the elliptic curve algorithm configured for the certificate, for ECC templates. Well-known OIDs include:
	- 1.2.840.10045.3.1.7 = P-256/prime256v1/secp256r1
	- 1.3.132.0.34 = P-384/secp384r1
	- 1.3.132.0.35 = P-521/secp521r1
- `detailed_key_usage` (Attributes) An array of objects containing the detailed key usage of the certificate. Each object contains the following fields:
	| Field | Description |
	|-------|-------------|
	| CrlSign | A boolean indicating whether the key can be used to sign a certificate revocation list (CRL). |
	| DataEncipherment | A boolean indicating whether the key can be used for data encryption. |
	| DecipherOnly | A boolean indicating whether the key can be used for decryption only. |
	| DigitalSignature | A boolean indicating whether the key can be used for digital signatures. |
	| EncipherOnly | A boolean indicating whether the key can be used for encryption only. |
	| KeyAgreement | A boolean indicating whether the key can be used for key agreement. |
	| KeyCertSign | A boolean indicating whether the key can be used to sign certificates. |
	| KeyEncipherment | A boolean indicating whether the key can be used for key encryption. |
	| NonRepudiation | A boolean indicating whether the key can be used for authentication. |
	| HexCode | A string containing the hexadecimal code representing the total key usage. For example, a value of a0 would indicate digital signature with key encipherment. | (see [below for nested schema](#nestedatt--detailed_key_usage))
- `dns_sans` (List of String) An array of strings containing the DNS subject alternative names of the certificate.
- `extended_key_usage` (Attributes List) An array of objects containing the extended key usage of the certificate. Each object contains the following fields:
	| Field | Description |
	|-------|-------------|
	| Id | An integer indicating the Keyfactor Command reference ID of the extended key usage. |
	| Oid | A string indicating the object identifier (OID) of the extended key usage. |
	| DisplayName | A string indicating the display name of the extended key usage. | (see [below for nested schema](#nestedatt--extended_key_usage))
- `has_private_key` (Boolean) A boolean indicating whether the certificate has a private key.
- `import_date` (String) The date, in UTC, on which the certificate was imported into Keyfactor Command.
- `ip_sans` (List of String) An array of strings containing the IP subject alternative names of the certificate.
- `issued_cn` (String) A string indicating the issued common name of the certificate.
- `issued_dn` (String) A string indicating the issued distinguished name of the certificate.
- `issued_email` (String) A string indicating the email address of the certificate.
- `issued_ou` (String) A string indicating the issued organizational unit of the certificate.
- `issuer_dn` (String) A string indicating the distinguished name of the certificate authority that issued the certificate.
- `key_bits` (Number) An integer specifying the key size in bits.
- `key_recoverable` (Boolean) A boolean indicating whether the certificate key is recoverable.
- `key_type` (String) A string indicating the type of key.
- `key_usage` (Number) An integer indicating the total key usage of the certificate. Key usage is stored in Active Directory as a single value made of a combination of values. The following values are possible:
	| Value | Function | Description |
	|-------|----------|-------------|
	| 0 | None | No key usage |
	| 1 | EncipherOnly | The key can be used for encryption only. |
	| 2 | CRL Signing | The key can be used to sign a certificate revocation list (CRL). |
	| 4 | Key CertSign | The key can be used to sign certificates. |
	| 8 | Key Agreement | The key can be used for key agreement. |
	| 16 | Data Encipherment | The key can be used for data encryption. |
	| 32 | Key Encipherment | The key can be used for key encryption. |
	| 64 | Non Repudiation | The key can be used for authentication. |
	| 128 | Digital Signature | The key can be used for digital signatures. |
	| 32768 | Decipherment Only | The key can be used for decryption only. |
	
	For example, a value of 160 would represent a key usage of digital signature with key encipherment. A value of 224 would add nonrepudiation to those.
- `location` (Object) An array of objects containing the certificate locations where the certificate is found using certificate store inventorying. Each object contains the following fields:
	| Field | Description |
	|-------|-------------|
	| StoreMachineName | A string indicating the machine name of the certificate location. |
	| StorePath | A string indicating the path of the certificate location. |
	| StoreType | An integer indicating the type of the certificate location. |
	| Alias | A string indicating the alias of the certificate location. |
	| ChainLevel | An integer indicating the chain level of the certificate location. |
	| CertStoreId | A string indicating the certificate store ID of the certificate location. | (see [below for nested schema](#nestedatt--location))
- `locations_count` (Attributes List) An array of objects containing the certificate locations of the certificate. Each object contains the following fields:
	| Field | Description |
	|-------|-------------|
	| Type | A string indicating the store type of the certificate location. |
	| Count | An integer indicating the number of certificates in the certificate location. | (see [below for nested schema](#nestedatt--locations_count))
- `metadata` (Map of String)
- `not_after` (String) The date, in UTC, on which the certificate expires.
- `not_before` (String) The date, in UTC, on which the certificate was issued by the certificate authority.
- `principal_id` (Number) An integer indicating the Keyfactor Command reference ID of the principal (UPN) that requested the certificate. Typically, this field is only populated for end user certificates requested through Keyfactor Command (e.g. Mac auto-enrollment certificates). See also PrinicpalName.
- `principal_name` (String) A string indicating the principal (UPN) that requested the certificate. Typically, this field is only populated for end user certificates requested through Keyfactor Command (e.g. Mac auto-enrollment certificates). See also PrincipalId.
- `private_key` (String, Sensitive) A string containing the private key in PEM format.
- `requester_id` (Number) An integer indicating the Keyfactor Command reference ID of the requester (UPN) that requested the certificate. Typically, this field is only populated for end user certificates requested through Keyfactor Command (e.g. Mac auto-enrollment certificates). See also RequesterName.
- `requester_name` (String) A string containing the name of the identity that requested the certificate.
- `revocation_comment` (String) A string indicating the comment associated with the revocation of the certificate.
- `revocation_effective_date` (String) The date, in UTC, on which the certificate was revoked.
- `revocation_reason` (Number) An integer indicating the reason the certificate was revoked. The following values are possible:
	| Value | Description |
	|-------|-------------|
	| 0 | Unspecified |
	| 1 | Key Compromise |
	| 2 | CA Compromise |
	| 3 | Affiliation Changed |
	| 4 | Superseded |
	| 5 | Cessation of Operation |
	| 6 | Certificate Hold |
	| 999 | Unknown |
- `serial_number` (String) A string indicating the serial number of the certificate.
- `signing_algorithm` (String) A string indicating the signing algorithm of the certificate.
- `ssl_location` (Attributes List) An array of objects containing the SSL locations where the certificate is found using SSL discovery. Each object contains the following fields:
	| Field | Description |
	|-------|-------------|
	| StorePath | A string indicating the path of the SSL location. |
	| AgentPool | A string indicating the agent pool of the SSL location. |
	| IPAddress | A string indicating the IP address of the SSL location. |
	| Port | An integer indicating the port of the SSL location. |
	| NetworkName | A string indicating the network name of the SSL location. | (see [below for nested schema](#nestedatt--ssl_location))
- `subject_alt_name_element` (Object) An array of objects containing the subject alternative name elements of the certificate. Each object contains the following fields:
	| Field | Description |
	|-------|-------------|
	| Id | An integer indicating the Keyfactor Command reference ID of the subject alternative name element. |
	| Value | A string indicating the value of the subject alternative name element. |
	| Type | An integer indicating the type of the subject alternative name element. |
	| ValueHash | A string indicating the hash of the value of the subject alternative name element. | (see [below for nested schema](#nestedatt--subject_alt_name_element))
- `template_id` (Number) An integer indicating the Keyfactor Command reference ID of the template associated with the certificate.
- `thumbprint` (String) A string indicating the thumbprint of the certificate.
- `uri_sans` (List of String) An array of strings containing the URI subject alternative names of the certificate.

<a id="nestedatt--crl_distribution_point"></a>
### Nested Schema for `crl_distribution_point`

Read-Only:

- `id` (Number)
- `url` (String)
- `url_hash` (String)


<a id="nestedatt--detailed_key_usage"></a>
### Nested Schema for `detailed_key_usage`

Read-Only:

- `crl_sign` (Boolean)
- `data_encipherment` (Boolean)
- `decipher_only` (Boolean)
- `digital_signature` (Boolean)
- `encipher_only` (Boolean)
- `hex_code` (String)
- `key_agreement` (Boolean)
- `key_cert_sign` (Boolean)
- `key_encipherment` (Boolean)
- `non_repudiation` (Boolean)


<a id="nestedatt--extended_key_usage"></a>
### Nested Schema for `extended_key_usage`

Read-Only:

- `display_name` (String) A string indicating the display name of the extended key usage.
- `id` (Number) An integer indicating the Keyfactor Command reference ID of the extended key usage.
- `oid` (String) A string indicating the object identifier (OID) of the extended key usage.


<a id="nestedatt--location"></a>
### Nested Schema for `location`

Read-Only:



<a id="nestedatt--locations_count"></a>
### Nested Schema for `locations_count`

Read-Only:

- `count` (Number)
- `store_type` (String)


<a id="nestedatt--ssl_location"></a>
### Nested Schema for `ssl_location`

Read-Only:

- `agent_pool` (String)
- `ip_address` (String)
- `network_name` (String)
- `port` (Number)
- `store_path` (String)


<a id="nestedatt--subject_alt_name_element"></a>
### Nested Schema for `subject_alt_name_element`

Read-Only:


