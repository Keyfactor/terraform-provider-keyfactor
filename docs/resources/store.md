---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "keyfactor_store Resource - terraform-provider-keyfactor"
subcategory: "Security & Authentication"
description: |-
Terraform resource for interacting with Store endpoint
  
---

# keyfactor_store (Resource)
The ```keyfactor_store``` resource is used to create and manage certificate stores
in Keyfactor. Certificate stores managed by Keyfactor are inventoried at a
predefined interval specified at the time of creation. Store types can take
form of many formats, including base types such as PEM or JKS, but also
certificate store types supported by any installed AnyAgent. For example,
Azure Key Vault certificate stores can be created and subsequently inventoried
by this provider. Different certificate store types require specific properties
that are specified at the time of creation. See Keyfactor documentation for specifics.

## Example Usage
The following configuration creates an Azure Key Vault store and subsequent
inventory in Keyfactor. Configuration of required fields such as
```store_path``` are dependant on the store type. For the case of Azure Key Vault,
the store path is the URL to the vault.
```terraform
resource "keyfactor_store" "AKS1" {
  provider = keyfactor.command
  client_machine  = "aks_demo"
  agent_id = "keyfactorOrchestratorAgentID"
  store_path      = "https://companykeyvault.vault.azure.net/"
  cert_store_type = 106
  property {
    name  = "TenantID"
    value = "tenant GUID"
  }
  property {
    name  = "ResourceGroupName"
    value = "production"
  }
  property {
    name  = "ApplicationId"
    value = "appID"
  }
  property {
    name  = "ClientSecret"
    value = "SPSecret"
  }
  property {
    name  = "SubscriptionId"
    value = "tenantSubID"
  }
  property {
    name  = "APIObjectId"
    value = "SPObject"
  }
  property {
    name  = "VaultName"
    value = "companykeyvault"
  }
  inventory_schedule {
    interval {
      minutes = 60
    }
  }
}
```

#### Property schema
Notice that the above configuration configures more than one ```property``` fields.
Store property fields vary between store types, so static configuration is
unnecessary. For this reason, all properties should be specified individually, as
shown above, in their own property schema blocks.

#### Inventory Schedule schema
The above example configures the certificate store to run an inventory at an interval
of 60 minutes. Other supported inventory schedules are ```daily```, ```exactly_once```,
and ```immediate```. Only one inventory schedule may be specified in this configuration.

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **store** (Block List, Min: 1, Max: 1) (see [below for nested schema](#nestedblock--store))

### Optional

- **id** (String) The ID of this resource.

<a id="nestedblock--store"></a>
### Nested Schema for `store`

Required:

- **agent_id** (String) String indicating the Keyfactor Command GUID of the orchestrator for the created store
- **cert_store_type** (Number) Integer specifying the store type. Specific types require different parameters.
- **client_machine** (String) Client machine name; value depends on certificate store type. See API reference guide
- **store_path** (String) Path to the new certificate store on a target. Format varies depending on type.

Optional:

- **agent_assigned** (Boolean) Bool indicating if there is an orchestrator assigned to the new certificate store
- **approved** (Boolean) Bool that indicates the approval status of store created. Default is true, omit if unsure
- **container_id** (Number) Container identifier of the store's associated certificate store container.
- **container_name** (String) Name of certificate store's associated container, if applicable
- **create_if_missing** (Boolean) Bool that indicates if the store should be created with information provided. Valid only for JKS type, omit if unsure
- **inventory_schedule** (Block List, Max: 1) Inventory schedule for new certificate store (see [below for nested schema](#nestedblock--store--inventory_schedule))
- **password** (Block List, Max: 1) Configures credential options for certificate store (see [below for nested schema](#nestedblock--store--password))
- **property** (Block List) Certificate properties specific to certificate store type (see [below for nested schema](#nestedblock--store--property))
- **set_new_password_allowed** (Boolean) Indicates whether the store password can be changed

Read-Only:

- **keyfactor_id** (String) Keyfactor certificate store GUID

<a id="nestedblock--store--inventory_schedule"></a>
### Nested Schema for `store.inventory_schedule`

Optional:

- **daily** (Block List) Indicates that the job should be scheduled to run every day at the same time (see [below for nested schema](#nestedblock--store--inventory_schedule--daily))
- **exactly_once** (Block List) Indicates that the job should be scheduled to run at the time specified (see [below for nested schema](#nestedblock--store--inventory_schedule--exactly_once))
- **immediate** (Boolean) Boolean that indicates whether the job should run immediately
- **interval** (Block List) Indicates that the job should be scheduled to run every x minutes (see [below for nested schema](#nestedblock--store--inventory_schedule--interval))

<a id="nestedblock--store--inventory_schedule--daily"></a>
### Nested Schema for `store.inventory_schedule.daily`

Required:

- **time** (String) The date and time to next run the job. The date and time should be given using the ISO 8601 UTC time format


<a id="nestedblock--store--inventory_schedule--exactly_once"></a>
### Nested Schema for `store.inventory_schedule.exactly_once`

Required:

- **time** (String) The date and time to next run the job. The date and time should be given using the ISO 8601 UTC time format


<a id="nestedblock--store--inventory_schedule--interval"></a>
### Nested Schema for `store.inventory_schedule.interval`

Required:

- **minutes** (Number) An integer indicating the number of minutes between each interval



<a id="nestedblock--store--password"></a>
### Nested Schema for `store.password`

Optional:

- **value** (String) Configures a password to be stored a Keyfactor secret


<a id="nestedblock--store--property"></a>
### Nested Schema for `store.property`

Optional:

- **name** (String) Name of property field required by certificate store
- **value** (String) Property value


